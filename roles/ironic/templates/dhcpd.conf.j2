# dhcpd.conf
#
# this configuration file is generated by ansible playbook
# please don't edit manually.


#
# global options
#

default-lease-time 3600;
max-lease-time 7200;
log-facility local7;

#
# dhcp subnet
#

subnet {{ dhcp_subnet }} netmask {{ dhcp_netmask }} {
  group {
{% if ironic_nodes is defined %}
{% for node in ironic_nodes %}
    host {{ node.name }} {
      hardware ethernet {{ node.mac }};
      fixed-address {{ node.ip }};
      allow booting;
      allow bootp;
      next-server {{ dhcp_server }};
      filename "pxelinux.0";
    }
{% endfor %}
{% endif %}
  }
}
